<?PHP
NAMESPACE DATA;
CLASS _FILE EXTENDS \DATA\_INDEX {
  //VARIABLES
  PROTECTED $ID        = NULL;
  PROTECTED $NAME      = NULL;
  PROTECTED $EXTENSION = NULL;
  PROTECTED $SIZE      = NULL;
  PROTECTED $FOLDER    = NULL;
  PROTECTED $LINK      = NULL;
  ///ARGUMENTS
  PROTECTED $PATH      = NULL;
  ///INFORMATION
  PROTECTED $CONTENT   = NULL;
  //FUNCTIONS
  ///MAGIC 
  PUBLIC FUNCTION __CONSTRUCT( $_ARGS = NULL {
    PARENT::__CONSTRUCT( $_ARGS );
    SELF::__OPEN( );
  }
  PUBLIC FUNCTION __SIZE( ){ PARENT::__SET( 'SIZE', FILESIZE( PARENT::__GET( 'PATH' ) ) ); }
  PUBLIC FUNCTION __DESTROY( ){ SELF::__CLOSE( ); }
  PUBLIC FUNCTION __OPEN( $MODE = 'A+' ){
    IF( FILE_EXISTS( PARENT::__GET( 'PATH' ) ) ){
      PARENT::__SET(
        'LINK',
        FOPEN( PARENT::__GET( 'PATH' ), $MODE )
      );
    }
  }
  PUBLIC FUNCTION __CLOSE( ){ FCLOSE( PARENT::__GET( 'LINK' ) ); }
  PUBLIC FUNCTION __READ( ){ PARENT::__SET( 'CONTENT', FREAD( PARENT::__GET( 'LINK' ), FILESIZE( PARENT::__GET( 'PATH' ) ) ) ); }
}
?>
