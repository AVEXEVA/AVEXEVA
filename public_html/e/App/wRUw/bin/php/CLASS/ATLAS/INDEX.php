<?PHP
NAMESPACE ATLAS;
CLASS INDEX EXTENDS \INDEX {
  //VARIABLES
  PROTECTED $SESSION = NULL;
  //FUNCTIONS
  PUBLIC FUNCTION __CONSTRUCT( $_ARGS = NULL ){
    PARENT::__CONSTRUCT( $_ARGS );
    self::__CONSTRUCTOR( );
    //IF( !SELF::__VALIDATE( ) ){ return; }
    self::__CONSTRUCTION( );
  }
  PRIVATE FUNCTION __CONSTRUCTOR( ){
    IF( IS_ARRAY( PARENT::__get( 'SESSION' ) ) ){
      PARENT::__SET( 'SESSION', NEW \HTTP\SESSION\INDEX( PARENT::__GET( 'SESSION' ) ) );
    } ELSE {
      PARENT::__SET( 'SESSION', NEW \HTTP\SESSION\INDEX( ARRAY( ) ) );
    }
  }
  PRIVATE FUNCTION __VALIDATE( ){
    RETURN IS_A( PARENT::__GET( 'SESSION' ), '\HTTP\SESSION\INDEX' ) && PARENT::__GET( 'SESSION' )->__validate( );
  }
  PRIVATE FUNCTION __CONSTRUCTION( ){
    SELF::__HEAD();
    SELF::__BODY();
    SELF::__FOOTER();
  }
  PRIVATE FUNCTION __HEAD( ){ NEW \ATLAS\HEAD( ); }
  PRIVATE FUNCTION __BODY( ){ NEW \ATLAS\BODY( ); } 
  PRIVATE FUNCTION __FOOTER( ){ NEW \ATLAS\FOOTER( ); }
}?>
